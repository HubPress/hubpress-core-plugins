"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function fire(e){var r=arguments.length<=1||void 0===arguments[1]?{state:{},data:{}}:arguments[1];return(listeners[e]||[]).reduce(function(e,r){return e.then(r)},(0,_q2["default"])(r))}function on(e,r){(listeners[e]||(listeners[e]=[])).push(r)}function register(){for(var e={on:on,fire:fire},r=arguments.length,t=Array(r),n=0;r>n;n++)t[n]=arguments[n];return t.forEach(function(r){return r(e)}),e}Object.defineProperty(exports,"__esModule",{value:!0});var _q=require("q"),_q2=_interopRequireDefault(_q),listeners={};exports["default"]={register:register,fire:fire,on:on},module.exports=exports["default"];